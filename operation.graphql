fragment TaskFields on Task {
  id
  name
  location {
    id
    name
  }
}

query Tasks {
  tasks {
    ...TaskFields
  }
}

query Locations {
  locations {
    ...LocationFields
  }
}

fragment LocationFields on Location {
  id
  name
}

mutation AddTask($name: String!, $locationName: String!) {
  addTask(name: $name, locationName: $locationName) {
    __typename
    ... on LocationNotFound {
      __typename
      message
    }
    ... on Task {
      __typename
      ...TaskFields
    }
  }
}

mutation AddLocation($name: String!) {
  addLocation(name: $name) {
    __typename
    ... on LocationExists {
      __typename
      message
    }
    ... on Location {
      __typename
      ...LocationFields
    }
  }
}

subscription TaskAdded {
  taskAdded {
    __typename
    ...TaskFields
  }
}
